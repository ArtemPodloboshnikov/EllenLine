@import './../../../styles/index.scss';
//settings variables
$top_offset: 80px;
$start_width: 40px;
$expand: 0;
//show animation variables
$show_time: 1s;
$easing: linear;

.aside
{
    z-index: 5;
    display: none;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: $start_width;
    padding-left: 10px;
    overflow: hidden;
    background-color: $primary_color;
    //
    transition: width $show_time $easing;

    & > img
    {
        display: block;
        margin: 0 auto;
        opacity: 0;
        //
        transition: opacity ($show_time / 2) $easing;
    }

    &.active
    {
        width: 90%;

        & > img
        {
            opacity: 1;
        }

        & > i
        {
            transform: rotate(180deg);
        }

        .menu
        {
            opacity: 1;

            p, a
            {
                // white-space: normal;
            }
        }
    }

    i
    {
        color: $sub_color;
    }

    & > i
    {
        z-index: inherit;
        position: absolute;
        top: 50%;
        right: 0;
        padding: 0 $start_width / 8;
        font-size: 2.2em;
        transform-origin: .5 .5;
        //
        transition: 
        transform $show_time $easing;
    }



    .menu
    {
        opacity: 0;
        padding-right: $start_width;
        overflow: hidden;
        //
        transition: opacity $show_time $easing;

        p, .root
        {
            border-bottom: 1px solid $sub_color;
            padding-left: 5px;
            overflow: hidden;
        }

        p, a
        {
            white-space: nowrap;
        }

        p, i
        {
            margin: 0 auto;
            font-size: 1.75em;
        }

        a
        {
            &:active
            {
                color: $attention_color;
            }
        }

        .option, .root
        {
            
        }
        
        .root
        {
            display: grid;
            grid-template-columns: fit-content(20px) 1fr;
            grid-auto-rows: auto;
            grid-column-start: 2;
            grid-column-end: 3;
            column-gap: 5px;
            padding-bottom: 10px;

            & > a
            {

            }

            & > p
            {
                margin-left: 0;
            }

            & > i
            {
                @extend %grid_center;
                grid-column: 0;
                display: block;
                //
                transition: transform .25s linear;
            }

            &.active
            {

                & > i
                {
                    @extend %grid_center;
                    grid-column: 0;
                    display: block;
                    transform: rotate(180deg);
                }

                .submenu
                {
                    max-height: 250px;
                }
            }

            .submenu
            {
                grid-column: 2;
                grid-row: 2;
                padding-left: 5px;
                max-height: 0;
                overflow: hidden;
                //
                transition: max-height $show_time $easing;

                p
                {
                    font-size: 1.25em;
                }
            }
        }
    }
}

@media screen and (max-width: 768px)
{
    .aside
    {
        display: block;
    }
}
